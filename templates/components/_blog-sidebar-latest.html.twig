{# Composant : Derniers articles pour la sidebar du blog #}
<div class="card">
    <h3 class="card__title" style="margin-bottom: 1rem;">üî• Derniers articles</h3>

    {% if latestPosts|length > 0 %}
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            {% for post in latestPosts %}
                <article class="blog-sidebar-post">
                    {% if post.featuredImage %}
                        <a href="{{ path('app_blog_show', {slug: post.slug}) }}" style="display: block; margin-bottom: 0.5rem;">
                            <img src="{{ asset('uploads/blog/' ~ post.featuredImage) }}"
                                 alt="{{ post.imageAlt ?? post.title }}"
                                 style="width: 100%; height: 120px; object-fit: cover; border-radius: 0.5rem;">
                        </a>
                    {% endif %}

                    <div>
                        <span class="blog-card__category" style="font-size: 0.7rem; margin-bottom: 0.25rem;">
                            {{ post.category.name }}
                        </span>

                        <h4 style="margin: 0.25rem 0 0.5rem 0; font-size: 0.95rem; line-height: 1.4;">
                            <a href="{{ path('app_blog_show', {slug: post.slug}) }}"
                               style="color: #1A1A1A; text-decoration: none; transition: color 0.2s ease;"
                               onmouseover="this.style.color='#FF5722'"
                               onmouseout="this.style.color='#1A1A1A'">
                                {{ post.title }}
                            </a>
                        </h4>

                        <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.75rem; color: #666;">
                            <span>üìÖ {{ post.publishedAt|date('d/m/Y') }}</span>
                            {% if post.readingTime %}
                                <span>‚è±Ô∏è {{ post.readingTime }} min</span>
                            {% endif %}
                        </div>
                    </div>
                </article>

                {% if not loop.last %}
                    <hr style="border: none; border-top: 1px solid #E5E7EB; margin: 0;">
                {% endif %}
            {% endfor %}
        </div>
    {% else %}
        <p style="color: #666; font-size: 0.875rem;">Aucun article r√©cent</p>
    {% endif %}
</div>
