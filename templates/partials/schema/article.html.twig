{#
    Usage: {% include 'partials/schema/article.html.twig' with {
        'article': post
    } %}
#}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ article.metaTitle ?? article.title }}",
    "alternativeHeadline": "{{ article.title }}",
    "image": {% if article.featuredImage %}"{{ absolute_url(asset('uploads/blog/' ~ article.featuredImage)) }}"{% else %}"{{ absolute_url(asset('images/og-default.jpg')) }}"{% endif %},
    "datePublished": "{{ article.publishedAt|date('c') }}",
    "dateModified": "{{ article.updatedAt|date('c') }}",
    "author": {
        "@type": "Person",
        "name": "Digitalfy",
        "url": "{{ absolute_url(path('app_home')) }}"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Digitalfy",
        "logo": {
            "@type": "ImageObject",
            "url": "{{ absolute_url(asset('images/logo.png')) }}"
        }
    },
    "description": "{{ article.metaDescription ?? (article.excerpt|striptags|slice(0, 160)) }}",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ absolute_url(path('app_blog_show', {slug: article.slug})) }}"
    }{% if article.focusKeyword %},
    "keywords": "{{ article.focusKeyword }}"{% endif %}{% if article.category %},
    "articleSection": "{{ article.category.name }}"{% endif %}{% if article.readingTime %},
    "timeRequired": "PT{{ article.readingTime }}M"{% endif %},
    "wordCount": {{ article.content|striptags|split(' ')|length }},
    "inLanguage": "fr-FR",
    "isAccessibleForFree": true
}
</script>
